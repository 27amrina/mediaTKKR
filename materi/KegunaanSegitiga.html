<!doctype html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apersepsi • Materi</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet"><!-- opsional -->

    <style>
        :root {
            --navbar-h: 55px;
            --footer-h: 40px;
            /* footer sedikit lebih tinggi agar nyaman */
            --brand: #ff3f8e;
            --sidebar-w: 255px;
            --line: #e5e7eb;
            --card: #ffffff;
            --card-border: #eeeeee;

            /* samakan dengan lebar sidebar */
            --sidebar-gap: 1px;
            /* jarak konten dari sidebar */
        }


        /* ===== App shell ===== */
        html,
        body {
            height: 100%;
        }

        body {
            padding-bottom: var(--footer-h);
            background: #fff;
        }

        .main-pad {
            padding-top: var(--navbar-h);
        }

        main.app-shell {
            height: calc(100vh - var(--navbar-h) - var(--footer-h));
            overflow: hidden;
        }

        /* ===== Navbar & Footer ===== */
        .navbar,
        .footer {
            background: #fff;
        }

        .footer {
            border-top: 1px solid #eee;
        }

        /* ===== Grid helpers ===== */
        .no-top-gap>[class^="col-"],
        .no-top-gap>aside,
        .no-top-gap>section {
            padding-top: 0 !important;
        }

        /* ===== Sidebar ===== */
        .menu-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, .04);
        }

        .menu-title {
            padding: .75rem 1rem;
            border-bottom: 1px solid #eee;
            font-weight: 600;
        }

        .menu-item {
            display: block;
            padding: .6rem 1rem;
            color: inherit;
            text-decoration: none;
        }

        .menu-item:hover {
            background: #fafafa;
        }

        .menu-item.active {
            background: #f5f5f5;
            font-weight: 600;
        }



        @media (min-width:768px) {
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100vh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }
        }

        /* ===== Buttons ===== */
        .btn-brand {
            background: var(--brand);
            color: #fff;
        }

        .btn-brand:hover {
            color: #fff;
            filter: brightness(.95);
        }

        /* ===== Layout: hanya area card yang scroll ===== */
        .content-col {
            height: 100%;
            overflow: hidden;
        }

        .content-scroll {
            height: 100%;
            overflow: hidden;
        }

        .materi-card .card-header {
            flex: 0 0 auto;
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: .5rem 1rem .4rem !important;
        }



        /* Pusatkan isi di dalam sticky-cta */
        .sticky-cta .content-with-fixed .d-flex {
            justify-content: center;
            /* pusat */
            align-items: center;
            gap: .5rem;
            /* jarak antar tombol */
            flex-wrap: wrap;
            /* responsif di layar kecil */
            width: 100%;
        }

        /* ====== RESPONSIVE LAYOUT FIXES (override) ====== */

        /* 1) Mobile: biarkan halaman memanjang normal */
        @media (max-width: 767.98px) {

            /* jangan kunci tinggi halaman di HP */
            main.app-shell {
                height: auto;
                overflow: visible;
            }

            .content-col,
            .content-scroll {
                height: auto;
                overflow: visible;
            }

            /* kartu ikut tinggi natural agar isi tidak terpotong */
            .materi-card {
                height: auto;
            }

            .materi-card .card-body.scrollable {
                min-height: 0;
                max-height: none;
                overflow: visible;
            }

            /* sidebar muncul di atas konten, tidak fixed */
            .sidebar-fixed {
                position: static;
                width: 100%;
                height: auto;
                overflow: visible;
            }

            /* sticky CTA biar rapi penuh di HP */
            .sticky-cta {
                position: static;
                margin-top: .5rem;
            }
        }

        /* 2) Tablet & Desktop: pakai 100dvh agar akurat vs toolbar browser */
        @media (min-width: 768px) {
            main.app-shell {
                height: calc(100dvh - var(--navbar-h) - var(--footer-h));
                overflow: hidden;
            }

            /* sidebar tetap fixed, konten bergeser */
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100dvh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }

            /* area isi: hanya body card yang scroll */
            .content-col,
            .content-scroll {
                height: 100%;
                overflow: hidden;
            }

            /* tinggi kartu fleksibel, tidak kaku 580px */
            .materi-card {
                height: clamp(480px, 66vh, 760px);
                /* enak di berbagai layar */
            }

            .materi-card .card-body.scrollable {
                flex: 1 1 auto;
                min-height: 0;
                overflow: auto;
                -webkit-overflow-scrolling: touch;
            }

            /* CTA melayang rapi */
            .sticky-cta {
                position: fixed;
                bottom: calc(var(--footer-h) + 8px);
                left: calc(var(--sidebar-w) + var(--sidebar-gap));
                right: 12px;
                z-index: 1030;
                /* di atas card */
            }
        }

        /* 3) Large desktop: beri napas ekstra pada konten */
        @media (min-width: 1200px) {
            .materi-card {
                height: clamp(570px, 62vh, 820px);
            }
        }


        .badge-pill {
            border-radius: 999px;
            padding: .25rem .6rem;
            font-weight: 500;
        }

        /* SVG wheel */
        .wheel-wrapper {
            max-width: 420px;
            margin-inline: auto;
        }

        .color-slice {
            cursor: pointer;
            stroke: #ffffff;
            stroke-width: 2;
            transition: transform .15s ease, stroke-width .15s ease;
            transform-origin: 50% 50%;
        }

        .color-slice:hover {
            transform: scale(1.03);
            stroke-width: 3;
        }

        .color-slice.active {
            stroke: #111827;
            stroke-width: 4;
            transform: scale(1.04);
        }

        .slice-label {
            font-size: 9px;
            font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
            fill: #111827;
            pointer-events: none;
        }

        .small-muted {
            font-size: .8rem;
            color: #6b7280;
        }



        .chip {
            border-radius: 999px;
            border: 1px solid var(--line);
            padding: .4rem .75rem;
            background: #fff;
            font-size: .9rem;
            cursor: grab;
            user-select: none;
            display: inline-flex;
            align-items: center;
            gap: .35rem;
        }

        .chip span {
            width: 10px;
            height: 10px;
            border-radius: 999px;
            display: inline-block;
        }

        /* contoh warna kecil */
        .c-red {
            background: #ff4b4b
        }

        .c-yellow {
            background: #ffd866
        }

        .c-blue {
            background: #4b8dff
        }

        .c-orange {
            background: #ff944b
        }

        .c-green {
            background: #3cbc66
        }

        .c-violet {
            background: #a05cff
        }

        .c-yg {
            background: #c5e86c
        }

        .c-ygreen {
            background: #4cc38a
        }

        .c-bg {
            background: #4fd1c5
        }

        .c-bv {
            background: #6b8bff
        }

        .c-rv {
            background: #ff6ebc
        }

        .c-ro {
            background: #ff7f50
        }

        .drop-zone {
            min-height: 90px;
            border-radius: 14px;
            border: 2px dashed #d0d7e2;
            background: #fff;
            padding: .5rem;
            transition: border-color .2s, background-color .2s;
        }

        .drop-zone.drag-over {
            border-color: var(--brand);
            background: #fff5fb;
        }

        .drop-zone.correct {
            border-color: #198754;
            background: #f0fff6;
        }

        .drop-zone h6 {
            font-size: .85rem;
            text-transform: uppercase;
            letter-spacing: .04em;
            color: #6b7280;
            margin-bottom: .1rem;
        }

        .small-muted {
            font-size: .8rem;
            color: #6b7280;
        }

        .figure img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            cursor: pointer;
        }

        .figure-caption {
            font-size: .8rem;
            color: #6b7280;
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
                <i class="bi bi-brush" style="font-size:1.25rem; color:var(--brand)"></i>
                <strong>Pewarnaan Rambut</strong> <span class="fw-normal">• Single Application</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navs">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navs">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active fw-semibold" style="color:var(--brand)"
                            aria-current="page" href="./apersepsi.html">Materi</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="../latihan.html">Latihan</a></li>
                    <li class="nav-item"><a class="nav-link" href="../kd.html">Tujuan Pembelajaran</a></li>
                    <li class="nav-item"><a class="nav-link" href="../peta.html">Peta Konsep</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- KONTEN: hanya area card yang scroll -->
    <main class="main-pad app-shell">
        <div class="container-fluid ">
            <div class="row g-1 no-top-gap h-100">
                <!-- SIDEBAR -->
                <aside class="col-12 col-md-auto order-1 order-md-0 p-0">

                    <nav class="menu-card sidebar-fixed shadow-sm">
                        <div class="menu-title"><i class="bi bi-journal-bookmark"></i> Materi</div>

                        <a class="menu-item " aria-current="page" href="PengetahuanDasarRambut.html"><i
                                class="bi bi-lightbulb"></i> Pengetahuan Dasar Rambut</a>

                        <!-- TOMBOL INDUK TERBUKA TEORI-->

                        <button class=" d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-teori" aria-expanded="true"
                            aria-controls="submenu-teori" href="./peralatan.html">

                            <span class="me-2"><i class="bi bi-droplet-half"></i></span>
                            <span class="flex-grow-1 text-start" aria-current="page">A. Pewarnaan
                                Rambut</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>
                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-teori"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>

                                    <a class="menu-item py-1 " aria-current="page" href="Sejarah.html"><span>1.
                                            Sejarah</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengertianPewarnaan.html"><span>2. Pengertian
                                            Pewarnaan </span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="TujuanPewarnaan.html">3. Tujuan Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="TipePewarnaan.html">4. Tipe Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="Desainteknik.html">5. Istilah Desain dan Teknik
                                        Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1 " href="AyoLakukanA.html">6. Ayo Lakukan
                                        Pewarnaan</a>
                                </li>
                            </ul>
                        </div>
                        <div class="menu-item active">
                            <!-- TOMBOL INDUK TERBUKA PERALATAN-->
                            <button class="menu-item d-flex align-items-center w-100 border-0 bg-transparent"
                                type="button" data-bs-toggle="collapse" data-bs-target="#submenu-peralatan"
                                aria-expanded="true" aria-controls="submenu-peralatan">
                                <span class="me-2"><i class="bi bi-scissors"></i></span>
                                <span class="flex-grow-1 text-start">B. Teori Warna</span>
                                <i class="bi bi-chevron-down small"></i>
                                <a>
                            </button>
                        </div>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-peralatan"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1 " href="PengetahuanWarna.html"><span>1. Pengetahuan
                                            Warna</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA  -->
                                    <a class="menu-item py-1 active" href="KegunaanSegitiga.html"> <span>2. Kegunaan
                                            Segitiga</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="KoreksiWarna.html"> <span>3. Koreksi
                                            Warna</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengaruhModifikasi.html"> <span>4. Pengaruh
                                            Modifikasi</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengaruhModifikasi.html"> <span>5. Warna Dingin
                                            dan
                                            Hanga</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="AyoLakukanB.html">6. Ayo Lakukan Pewarnaan</a>
                                </li>
                            </ul>
                        </div>

                        <!-- TOMBOL INDUK TERBUKA PERALATAN-->
                        <button class="menu-item d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-peralatan" aria-expanded="true"
                            aria-controls="submenu-peralatan">
                            <span class="me-2"><i class="bi bi-scissors"></i></span>
                            <span class="flex-grow-1 text-start">C. Pewarnaan Korektif</span>
                            <i class="bi bi-chevron-down small"></i>
                            <a>
                        </button>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-peralatan"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1 " href="PewarnaanKorektif.html"><span>1. Pewarnaan
                                            Korektif</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="KesalahanDalamPewarnaan.html"> <span>2.
                                            Kesalahan
                                            Dalam Pewarnaan</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="AyoLakukanC.html">3. Ayo Lakukan Pewarnaan</a>
                                </li>
                            </ul>
                        </div>

                    </nav>
                </aside>

                <!-- KANAN (scroll) -->
                <section class="col-12 col-md-9 col-xl-10 content-col content-with-fixed order-2 order-md-0">
                    <div class="content-scroll">
                        <div class="card shadow-sm materi-card">
                            <div class="card-header d-flex align-items-center gap-2">
                                <i class="bi bi-lightbulb" style="color:var(--brand); font-size:1.25rem;"></i>
                                <div class="d-flex flex-wrap align-items-baseline gap-2">
                                    <h3 class="h5 mb-0 fw-bold">Kegunaan Segitiga Warna dalam Pewarnaan</h3>
                                </div>
                            </div>
                            <!--  -->
                            <div class="card-body scrollable flex-grow-1 min-vh-0" id="apersepsi-hair-coloring">
                                <!--  -->
                                <div class="flex-grow-1">
                                    <h1 class="h5 fw-bold mb-1">Simple Color Wheel Chart — Interaktif</h1>
                                    <p class="small mb-2 text-secondary">
                                        Lingkaran warna ini menampilkan <strong>warna primer, sekunder, dan
                                            tersier</strong> yang
                                        digunakan
                                        dalam pewarnaan rambut. Klik salah satu bidang warna untuk melihat
                                        penjelasannya.
                                    </p>
                                    <div class="d-flex flex-wrap gap-2 small">
                                        <span class="badge bg-warning text-dark badge-pill">Primer</span>
                                        <span class="badge bg-success badge-pill">Sekunder</span>
                                        <span class="badge bg-info text-dark badge-pill">Tersier</span>
                                    </div>
                                </div>

                                <!-- WHEEL + PANEL -->
                                <section class="card shadow-sm mb-4">
                                    <div class="card-body">
                                        <div class="row g-4 align-items-center">
                                            <div class="col-md-6">
                                                <div class="wheel-wrapper">
                                                    <svg id="colorWheel" viewBox="0 0 300 300"></svg>
                                                    <p class="text-center small text-muted mt-2 mb-0">
                                                        Klik salah satu bagian lingkaran untuk melihat jenis &amp;
                                                        campuran warnanya.
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <h2 class="h6 text-uppercase small-muted mb-2">Informasi Warna</h2>
                                                <div id="colorInfo" class="border rounded-3 p-3 bg-light">
                                                    <p class="mb-1 small">Belum ada warna yang dipilih.</p>
                                                    <p class="mb-0 small text-muted">Klik salah satu bidang lingkaran
                                                        warna di sebelah kiri.</p>
                                                </div>

                                                <hr class="my-3">

                                                <h3 class="h6 text-uppercase small-muted mb-2">Tantangan Mini</h3>
                                                <p class="small mb-2">Klik tombol di bawah, lalu pilih warna yang
                                                    sesuai.</p>
                                                <div class="d-flex flex-wrap gap-2 mb-2">
                                                    <button class="btn btn-outline-secondary btn-sm" data-mode="primary"
                                                        id="btnPrimary">
                                                        Cari warna primer
                                                    </button>
                                                    <button class="btn btn-outline-secondary btn-sm"
                                                        data-mode="secondary" id="btnSecondary">
                                                        Cari warna sekunder
                                                    </button>
                                                    <button class="btn btn-outline-secondary btn-sm"
                                                        data-mode="tertiary" id="btnTertiary">
                                                        Cari warna tersier
                                                    </button>
                                                    <button class="btn btn-outline-dark btn-sm" id="btnClearMode">
                                                        Reset tantangan
                                                    </button>
                                                </div>
                                                <div id="challengeInfo" class="small text-muted">
                                                    Mode tantangan: <strong>-</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <!-- DRAG & DROP KLASIFIKASI -->
                                <section class="card mb-4 shadow-sm">
                                    <div class="card-body">
                                        <h2 class="h6 text-uppercase small-muted mb-2">Aktivitas: Kelompokkan Warna</h2>
                                        <p class="small mb-3">
                                            Seret nama warna ke kolom yang tepat: <strong>Primer</strong>,
                                            <strong>Sekunder</strong>, atau
                                            <strong>Tersier</strong>. Lalu klik <em>Periksa</em>.
                                        </p>
                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <div class="small-muted mb-1">Kartu Warna</div>
                                                <div id="pool" class="d-flex flex-wrap gap-2">
                                                    <div class="chip" draggable="true" data-type="primary">
                                                        <span class="c-red"></span> Merah
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="primary">
                                                        <span class="c-yellow"></span> Kuning
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="primary">
                                                        <span class="c-blue"></span> Biru
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="secondary">
                                                        <span class="c-orange"></span> Oranye
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="secondary">
                                                        <span class="c-green"></span> Hijau
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="secondary">
                                                        <span class="c-violet"></span> Ungu/Violet
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-yg"></span> Kuning-Oranye
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-ygreen"></span> Kuning-Hijau
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-bg"></span> Biru-Hijau
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-bv"></span> Biru-Ungu
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-rv"></span> Merah-Ungu
                                                    </div>
                                                    <div class="chip" draggable="true" data-type="tertiary">
                                                        <span class="c-ro"></span> Merah-Oranye
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="row g-3">
                                                    <div class="col-md-4">
                                                        <div class="drop-zone" data-accept="primary">
                                                            <h6>Primer</h6>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="drop-zone" data-accept="secondary">
                                                            <h6>Sekunder</h6>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="drop-zone" data-accept="tertiary">
                                                            <h6>Tersier</h6>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3 d-flex gap-2">
                                            <button id="btnCheck" class="btn btn-brand btn-sm"><i
                                                    class="bi bi-check2-circle me-1"></i>Periksa</button>
                                            <button id="btnReset" class="btn btn-outline-brand btn-sm"><i
                                                    class="bi bi-arrow-counterclockwise me-1"></i>Reset</button>
                                        </div>
                                        <div id="fbDrop" class="small mt-2"></div>
                                    </div>
                                </section>

                                <!-- PENJELASAN SINGKAT -->
                                <section class="card shadow-sm">
                                    <div class="card-body">
                                        <h2 class="h6 text-uppercase small-muted mb-2">Ringkasan Materi</h2>
                                        <ul class="small mb-2">
                                            <li><strong>Primary Colors (Primer)</strong>: Red, Yellow, Blue — dasar
                                                semua warna lain.</li>
                                            <li><strong>Secondary Colors (Sekunder)</strong>: Orange, Green, Violet —
                                                campuran dua warna primer.
                                            </li>
                                            <li><strong>Tertiary Colors (Tersier)</strong>: Yellow-Orange, Red-Orange,
                                                Red-Violet, Blue-Violet,
                                                Blue-Green, Yellow-Green — campuran satu primer dan satu sekunder yang
                                                bersebelahan.</li>
                                        </ul>
                                        <p class="small mb-0">
                                            Dalam pewarnaan rambut, pemahaman lingkaran warna membantu menentukan
                                            <em>warna yang serasi</em> dan <em>warnanya saling menetralkan</em> ketika
                                            melakukan koreksi warna.
                                        </p>
                                    </div>
                                </section>

                            </div>
                        </div>
                    </div>
                </section>



            </div>
            </section>
    </main>



    <!-- CTA tetap di atas footer -->
    <div class="sticky-cta">
        <div class="container">
            <div class="col-12 col-md-10 content-col content-with-fixed mx-auto">
                <div class="d-flex justify-content-center align-items-center flex-wrap gap-2 w-100">
                    <a class="btn btn-outline-secondary" href="PengetahuanWarna.html"><i class="bi bi-arrow-left"></i>
                        Sebelumnya</a>
                    <a class="btn btn-brand" href="KoreksiWarna.html">Berikutnya <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
    <!-- FOOTER -->
    <footer class="footer fixed-bottom py-2">
        <div class="container d-flex justify-content-between align-items-center small">
            <span>SMKS ISFI BANJARMASIN • Hair Coloring</span>
            <span class="text-muted">© 2025 • Single Application</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // ====== DATA WARNA ======
        const COLOR_DATA = [
            {
                id: "red",
                label: "Red",
                type: "primary",
                fill: "#ff4b4b",
                desc: "Warna primer hangat yang kuat. Sering menjadi dasar warna merah marun atau merah fashion pada rambut."
            },
            {
                id: "red-orange",
                label: "Red-Orange",
                type: "tertiary",
                fill: "#ff7a3c",
                desc: "Warna tersier hasil campuran merah + oranye. Memberikan kesan tembaga / copper pada rambut."
            },
            {
                id: "orange",
                label: "Orange",
                type: "secondary",
                fill: "#ffb347",
                desc: "Warna sekunder dari merah + kuning. Banyak muncul saat proses bleaching (underlying pigment)."
            },
            {
                id: "yellow-orange",
                label: "Yellow-Orange",
                type: "tertiary",
                fill: "#ffd35c",
                desc: "Tersier antara kuning dan oranye. Terlihat sebagai kuning keemasan pada rambut pirang."
            },
            {
                id: "yellow",
                label: "Yellow",
                type: "primary",
                fill: "#ffe873",
                desc: "Warna primer yang cerah. Menjadi dasar warna pirang hangat dan pirang emas."
            },
            {
                id: "yellow-green",
                label: "Yellow-Green",
                type: "tertiary",
                fill: "#c7f36a",
                desc: "Tersier antara kuning dan hijau. Jika muncul tidak diinginkan, biasanya dinetralkan dengan warna merah-violet."
            },
            {
                id: "green",
                label: "Green",
                type: "secondary",
                fill: "#3cbc66",
                desc: "Warna sekunder dari kuning + biru. Pada koreksi warna rambut, hijau menetralkan merah."
            },
            {
                id: "blue-green",
                label: "Blue-Green",
                type: "tertiary",
                fill: "#42c9b8",
                desc: "Tersier antara biru dan hijau. Sering dipakai pada tren rambut mermaid / ocean color."
            },
            {
                id: "blue",
                label: "Blue",
                type: "primary",
                fill: "#4b8dff",
                desc: "Warna primer dingin. Digunakan untuk menetralkan oranye dalam koreksi warna."
            },
            {
                id: "blue-violet",
                label: "Blue-Violet",
                type: "tertiary",
                fill: "#6b6bff",
                desc: "Tersier antara biru dan violet. Banyak dipakai pada shampoo ungu untuk menetralkan kuning-oranye."
            },
            {
                id: "violet",
                label: "Violet",
                type: "secondary",
                fill: "#a05cff",
                desc: "Warna sekunder dari merah + biru. Menetralkan warna kuning pada rambut pirang."
            },
            {
                id: "red-violet",
                label: "Red-Violet",
                type: "tertiary",
                fill: "#ff6ebc",
                desc: "Tersier antara merah dan violet. Cocok untuk warna rambut magenta / fuchsia."
            }
        ];

        // ====== BANGUN SVG LINGKARAN ======
        const svg = document.getElementById("colorWheel");
        const cx = 150, cy = 150, radius = 140;
        const labelRadius = 110;
        const sliceAngle = (Math.PI * 2) / COLOR_DATA.length; // radian

        COLOR_DATA.forEach((c, i) => {
            const startAngle = -Math.PI / 2 + i * sliceAngle;       // mulai dari atas
            const endAngle = startAngle + sliceAngle;

            const x1 = cx + radius * Math.cos(startAngle);
            const y1 = cy + radius * Math.sin(startAngle);
            const x2 = cx + radius * Math.cos(endAngle);
            const y2 = cy + radius * Math.sin(endAngle);

            const largeArc = sliceAngle > Math.PI ? 1 : 0;

            const pathData = [
                `M ${cx} ${cy}`,
                `L ${x1} ${y1}`,
                `A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2}`,
                "Z"
            ].join(" ");

            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("d", pathData);
            path.setAttribute("fill", c.fill);
            path.classList.add("color-slice");
            path.dataset.id = c.id;
            path.dataset.type = c.type;
            svg.appendChild(path);

            // Label di sekitar lingkaran
            const midAngle = startAngle + sliceAngle / 2;
            const lx = cx + labelRadius * Math.cos(midAngle);
            const ly = cy + labelRadius * Math.sin(midAngle);
            const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
            text.setAttribute("x", lx);
            text.setAttribute("y", ly);
            text.setAttribute("text-anchor", "middle");
            text.setAttribute("dominant-baseline", "middle");
            text.classList.add("slice-label");
            text.textContent = c.label.replace("-", "\n");
            svg.appendChild(text);
        });

        const colorInfo = document.getElementById("colorInfo");

        // ====== INTERAKSI KLIK ======
        svg.addEventListener("click", (e) => {
            const slice = e.target.closest(".color-slice");
            if (!slice) return;

            document.querySelectorAll(".color-slice").forEach(p => p.classList.remove("active"));
            slice.classList.add("active");

            const data = COLOR_DATA.find(c => c.id === slice.dataset.id);
            if (!data) return;

            const typeLabel =
                data.type === "primary" ? "Primary Color (Warna Primer)" :
                    data.type === "secondary" ? "Secondary Color (Warna Sekunder)" :
                        "Tertiary Color (Warna Tersier)";

            colorInfo.innerHTML = `
        <h3 class="h6 mb-1">${data.label}</h3>
        <p class="small mb-1"><strong>Jenis:</strong> ${typeLabel}</p>
        <p class="small mb-0">${data.desc}</p>
      `;

            // Feedback untuk mode tantangan
            if (currentMode) {
                const benar = (slice.dataset.type === currentMode);
                const msg = benar
                    ? `✅ Tepat! <strong>${data.label}</strong> memang warna ${currentMode}.`
                    : `⚠️ Belum tepat. <strong>${data.label}</strong> adalah warna <em>${slice.dataset.type}</em>.`;
                document.getElementById("challengeInfo").innerHTML =
                    `<span class="small">${msg}</span>`;
            }
        });

        // ====== MODE TANTANGAN ======
        let currentMode = "";

        const challengeInfo = document.getElementById("challengeInfo");
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll(".color-slice").forEach(p => p.classList.remove("active"));
            if (!mode) {
                challengeInfo.innerHTML = 'Mode tantangan: <strong>-</strong>';
                return;
            }
            const textMode =
                mode === "primary" ? "Pilih warna PRIMER (Red, Yellow, Blue)" :
                    mode === "secondary" ? "Pilih warna SEKUNDER (Orange, Green, Violet)" :
                        "Pilih salah satu warna TERSIER (mis. Red-Orange, Blue-Green).";
            challengeInfo.innerHTML =
                `Mode tantangan: <strong>${mode}</strong><br><span class="small">${textMode}</span>`;
        }

        document.getElementById("btnPrimary").onclick = () => setMode("primary");
        document.getElementById("btnSecondary").onclick = () => setMode("secondary");
        document.getElementById("btnTertiary").onclick = () => setMode("tertiary");
        document.getElementById("btnClearMode").onclick = () => setMode("");



        // ====== DRAG & DROP ======
        // ====== DRAG & DROP + LOCALSTORAGE ======
        (function () {
            const $ = s => document.querySelector(s);
            const $$ = s => Array.from(document.querySelectorAll(s));
            const LS_KEY_DND = 'segitiga-dnd-v1';
            let dragRef = null;

            // Beri id unik ke setiap chip (jika belum ada)
            $$('#pool .chip').forEach((chip, idx) => {
                if (!chip.dataset.id) chip.dataset.id = 'chip-' + idx;
            });

            // Beri id ke setiap drop-zone jika belum ada
            $$('.drop-zone').forEach(zone => {
                if (!zone.id) {
                    zone.id = 'zone-' + (zone.dataset.accept || Math.random().toString(36).slice(2, 7));
                }
            });

            // Simpan posisi semua chip ke localStorage
            function saveDndState() {
                const state = {};
                $$('.chip').forEach(chip => {
                    const parent = chip.parentElement;
                    if (parent && parent.id) {
                        state[chip.dataset.id] = parent.id;
                    } else {
                        state[chip.dataset.id] = 'pool';
                    }
                });
                localStorage.setItem(LS_KEY_DND, JSON.stringify(state));
            }

            // Restore posisi chip dari localStorage
            function loadDndState() {
                const raw = localStorage.getItem(LS_KEY_DND);
                if (!raw) return;
                let state;
                try { state = JSON.parse(raw); } catch { return; }
                if (!state) return;

                Object.entries(state).forEach(([chipId, containerId]) => {
                    const chip = document.querySelector(`.chip[data-id="${chipId}"]`);
                    const target = document.getElementById(containerId) || $('#pool');
                    if (chip && target) target.appendChild(chip);
                });
            }

            // Drag behaviour
            document.addEventListener('dragstart', e => {
                if (e.target.classList.contains('chip')) {
                    dragRef = e.target;
                    e.dataTransfer.setData('text/plain', e.target.textContent.trim());
                }
            });

            // Drop ke pool & drop-zone
            $$('.drop-zone, #pool').forEach(zone => {
                ['dragenter', 'dragover'].forEach(ev => {
                    zone.addEventListener(ev, e => {
                        e.preventDefault();
                        if (zone.classList.contains('drop-zone')) {
                            zone.classList.add('drag-over');
                        }
                    });
                });
                ['dragleave', 'drop'].forEach(ev => {
                    zone.addEventListener(ev, () => {
                        zone.classList.remove('drag-over');
                    });
                });
                zone.addEventListener('drop', e => {
                    e.preventDefault();
                    if (!dragRef) return;
                    zone.appendChild(dragRef);
                    dragRef = null;
                    saveDndState();
                });
            });

            // Tombol Periksa
            $('#btnCheck').addEventListener('click', () => {
                let correct = 0, totalPlaced = 0;
                $$('.drop-zone').forEach(zone => {
                    zone.classList.remove('correct');
                    const accept = zone.dataset.accept;
                    zone.querySelectorAll('.chip').forEach(chip => {
                        totalPlaced++;
                        if (chip.dataset.type === accept) correct++;
                    });
                });

                if (totalPlaced === 0) {
                    $('#fbDrop').innerHTML = "<span class='text-danger'>Seret dulu minimal satu kartu warna.</span>";
                    return;
                }

                // Tandai zona yang semua isinya benar
                $$('.drop-zone').forEach(zone => {
                    const accept = zone.dataset.accept;
                    const chips = Array.from(zone.querySelectorAll('.chip'));
                    if (chips.length && chips.every(c => c.dataset.type === accept)) {
                        zone.classList.add('correct');
                    }
                });

                $('#fbDrop').innerHTML =
                    `<div class="alert alert-${correct === totalPlaced ? 'success' : 'warning'} mb-0">
                Benar ${correct} dari ${totalPlaced} kartu yang ditempatkan.
            </div>`;

                saveDndState();
            });

            // Tombol Reset
            $('#btnReset').addEventListener('click', () => {
                const pool = $('#pool');
                document.querySelectorAll('.drop-zone .chip').forEach(chip => pool.appendChild(chip));
                document.querySelectorAll('.drop-zone').forEach(z => z.classList.remove('correct'));
                $('#fbDrop').innerHTML = "";
                localStorage.removeItem(LS_KEY_DND);
            });

            // Restore posisi awal saat halaman dibuka
            loadDndState();
        })();

        // ====== KUIS ======
        // ====== KUIS (BENAR / SALAH) + LOCALSTORAGE ======
        (function () {
            // Kunci jawaban (sesuaikan jika soal berubah)
            const key = { q1: 'b', q2: 'b', q3: 'c' };
            const $ = s => document.querySelector(s);
            const $$ = s => Array.from(document.querySelectorAll(s));
            const LS_KEY_QUIZ = 'segitiga-quiz-v1';

            // Simpan jawaban + feedback
            function saveQuiz() {
                const data = {};
                Object.keys(key).forEach(name => {
                    const checked = document.querySelector(`input[name="${name}"]:checked`);
                    data[name] = checked ? checked.value : null;
                });
                data.fb = $('#fbQuiz')?.innerHTML || "";
                localStorage.setItem(LS_KEY_QUIZ, JSON.stringify(data));
            }

            // Restore jawaban + feedback
            function loadQuiz() {
                const raw = localStorage.getItem(LS_KEY_QUIZ);
                if (!raw) return;
                let data;
                try { data = JSON.parse(raw); } catch { return; }
                if (!data) return;

                Object.entries(data).forEach(([name, val]) => {
                    if (name === 'fb') return;
                    if (!val) return;
                    const radio = document.querySelector(`input[name="${name}"][value="${val}"]`);
                    if (radio) radio.checked = true;
                });

                if (data.fb && $('#fbQuiz')) {
                    $('#fbQuiz').innerHTML = data.fb;
                }
            }

            // Jalankan restore saat halaman load
            loadQuiz();

            // Simpan setiap kali siswa memilih jawaban
            $$('input[name="q1"], input[name="q2"], input[name="q3"]').forEach(radio => {
                radio.addEventListener('change', saveQuiz);
            });

            // Tombol Periksa
            $('#btnQuiz')?.addEventListener('click', () => {
                let benar = 0;
                const total = Object.keys(key).length;

                Object.entries(key).forEach(([name, ans]) => {
                    const chosen = document.querySelector(`input[name="${name}"]:checked`);
                    if (chosen && chosen.value === ans) benar++;
                });

                if (benar === 0) {
                    $('#fbQuiz').innerHTML =
                        "<span class='text-danger'>Jawab dulu kuisnya, ya.</span>";
                    saveQuiz();
                    return;
                }

                const skor = Math.round(benar / total * 100);
                $('#fbQuiz').innerHTML =
                    `<div class="alert alert-${skor === 100 ? 'success' : 'info'} mb-0">
                Skor kamu: <strong>${skor}</strong>/100 (${benar} dari ${total} soal benar).
            </div>`;
                saveQuiz();
            });

            // Tombol Reset jawaban
            $('#btnQuizReset')?.addEventListener('click', () => {
                $$('input[name="q1"], input[name="q2"], input[name="q3"]').forEach(r => r.checked = false);
                if ($('#fbQuiz')) $('#fbQuiz').innerHTML = "";
                localStorage.removeItem(LS_KEY_QUIZ);
            });
        })();

    </script>

</body>

</html>