<!doctype html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apersepsi • Materi</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet"><!-- opsional -->

    <style>
        :root {
            --navbar-h: 55px;
            --footer-h: 40px;
            /* footer sedikit lebih tinggi agar nyaman */
            --brand: #ff3f8e;
            --sidebar-w: 255px;
            --line: #e5e7eb;
            --card: #ffffff;
            --card-border: #eeeeee;

            /* samakan dengan lebar sidebar */
            --sidebar-gap: 1px;
            /* jarak konten dari sidebar */
        }


        /* ===== App shell ===== */
        html,
        body {
            height: 100%;
        }

        body {
            padding-bottom: var(--footer-h);
            background: #fff;
        }

        .main-pad {
            padding-top: var(--navbar-h);
        }

        main.app-shell {
            height: calc(100vh - var(--navbar-h) - var(--footer-h));
            overflow: hidden;
        }

        /* ===== Navbar & Footer ===== */
        .navbar,
        .footer {
            background: #fff;
        }

        .footer {
            border-top: 1px solid #eee;
        }

        /* ===== Grid helpers ===== */
        .no-top-gap>[class^="col-"],
        .no-top-gap>aside,
        .no-top-gap>section {
            padding-top: 0 !important;
        }

        /* ===== Sidebar ===== */
        .menu-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, .04);
        }

        .menu-title {
            padding: .75rem 1rem;
            border-bottom: 1px solid #eee;
            font-weight: 600;
        }

        .menu-item {
            display: block;
            padding: .6rem 1rem;
            color: inherit;
            text-decoration: none;
        }

        .menu-item:hover {
            background: #fafafa;
        }

        .menu-item.active {
            background: #f5f5f5;
            font-weight: 600;
        }

        /* SVG base */
        svg {
            width: 100%;
            height: auto;
            display: block;
        }

        .box {
            fill: #fff;
            stroke: var(--brand);
            stroke-width: 2;
            rx: 16;
            ry: 16;
        }

        .text {
            font-family: "Inter", "Segoe UI", Arial, sans-serif;
            font-size: 22px;
            fill: #333;
        }

        .line {
            stroke: var(--brand);
            stroke-width: 4;
            fill: none;
            stroke-linecap: square;
        }


        @media (min-width:768px) {
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100vh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }
        }

        /* ===== Buttons ===== */
        .btn-brand {
            background: var(--brand);
            color: #fff;
        }

        .btn-brand:hover {
            color: #fff;
            filter: brightness(.95);
        }

        /* ===== Layout: hanya area card yang scroll ===== */
        .content-col {
            height: 100%;
            overflow: hidden;
        }

        .content-scroll {
            height: 100%;
            overflow: hidden;
        }

        .materi-card .card-header {
            flex: 0 0 auto;
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: .5rem 1rem .4rem !important;
        }


        /* Flashcard */
        .flashcard {
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: transform .15s, box-shadow .15s, background-color .2s;
            background: var(--card);
        }

        .flashcard:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0, 0, 0, .10);
        }

        .flashcard[aria-pressed="true"] {
            background: rgba(255, 63, 142, .08);
        }

        .drag-pool {
            display: grid;
            gap: .6rem;
        }

        .drag-chip {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: .5rem .75rem;
            cursor: grab;
            user-select: none;
        }

        .drop-wrap {
            display: grid;
            gap: .8rem;
        }

        .drop-col {
            min-height: 120px;
            border: 2px dashed #ced4da;
            border-radius: 12px;
            padding: .75rem;
            background: #fcfcfd;
        }

        .drop-col.drag-over {
            border-color: #0d6efd;
            background: #eef5ff;
        }

        .drop-col.empty::before {
            content: 'Seret ke sini…';
            color: #adb5bd;
            font-size: .9rem;
        }

        .drop-col.correct {
            border-color: rgba(25, 135, 84, .8);
            background: #f0fff6;
        }

        .drop-col.wrong {
            border-color: rgba(220, 53, 69, .8);
            background: #fff5f6;
        }

        .likert input[type=range] {
            width: 100%;
        }

        /* Pusatkan isi di dalam sticky-cta */
        .sticky-cta .content-with-fixed .d-flex {
            justify-content: center;
            /* pusat */
            align-items: center;
            gap: .5rem;
            /* jarak antar tombol */
            flex-wrap: wrap;
            /* responsif di layar kecil */
            width: 100%;
        }

        /* ====== RESPONSIVE LAYOUT FIXES (override) ====== */

        /* 1) Mobile: biarkan halaman memanjang normal */
        @media (max-width: 767.98px) {

            /* jangan kunci tinggi halaman di HP */
            main.app-shell {
                height: auto;
                overflow: visible;
            }

            .content-col,
            .content-scroll {
                height: auto;
                overflow: visible;
            }

            /* kartu ikut tinggi natural agar isi tidak terpotong */
            .materi-card {
                height: auto;
            }

            .materi-card .card-body.scrollable {
                min-height: 0;
                max-height: none;
                overflow: visible;
            }

            /* sidebar muncul di atas konten, tidak fixed */
            .sidebar-fixed {
                position: static;
                width: 100%;
                height: auto;
                overflow: visible;
            }

            /* sticky CTA biar rapi penuh di HP */
            .sticky-cta {
                position: static;
                margin-top: .5rem;
            }
        }

        /* 2) Tablet & Desktop: pakai 100dvh agar akurat vs toolbar browser */
        @media (min-width: 768px) {
            main.app-shell {
                height: calc(100dvh - var(--navbar-h) - var(--footer-h));
                overflow: hidden;
            }

            /* sidebar tetap fixed, konten bergeser */
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100dvh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }

            /* area isi: hanya body card yang scroll */
            .content-col,
            .content-scroll {
                height: 100%;
                overflow: hidden;
            }

            /* tinggi kartu fleksibel, tidak kaku 580px */
            .materi-card {
                height: clamp(480px, 66vh, 760px);
                /* enak di berbagai layar */
            }

            .materi-card .card-body.scrollable {
                flex: 1 1 auto;
                min-height: 0;
                overflow: auto;
                -webkit-overflow-scrolling: touch;
            }

            /* CTA melayang rapi */
            .sticky-cta {
                position: fixed;
                bottom: calc(var(--footer-h) + 8px);
                left: calc(var(--sidebar-w) + var(--sidebar-gap));
                right: 12px;
                z-index: 1030;
                /* di atas card */
            }
        }

        /* 3) Large desktop: beri napas ekstra pada konten */
        @media (min-width: 1200px) {
            .materi-card {
                height: clamp(570px, 62vh, 820px);
            }
        }

        /* 4) Minor polish */
        .navbar {
            will-change: transform;
        }

        /* lebih halus saat scroll iOS */

        /* ===== Minor polish ===== */
        .min-vh-0 {
            min-height: 0 !important;
        }

        #apersepsi-hair-coloring figure img {
            display: block;
            width: 100%;
            height: auto;
            border-radius: 12px;
            object-fit: cover;
            max-height: 420px;
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
                <i class="bi bi-brush" style="font-size:1.25rem; color:var(--brand)"></i>
                <strong>Pewarnaan Rambut</strong> <span class="fw-normal">• Single Application</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navs">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navs">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active fw-semibold" style="color:var(--brand)"
                            aria-current="page" href="./apersepsi.html">Materi</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="../latihan.html">Latihan</a></li>
                    <li class="nav-item"><a class="nav-link" href="../kd.html">Tujuan Pembelajaran</a></li>
                    <li class="nav-item"><a class="nav-link" href="../peta.html">Peta Konsep</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- KONTEN: hanya area card yang scroll -->
    <main class="main-pad app-shell">
        <div class="container-fluid ">
            <div class="row g-1 no-top-gap h-100">
                <!-- SIDEBAR -->
                <aside class="col-12 col-md-auto order-1 order-md-0 p-0">

                    <nav class="menu-card sidebar-fixed shadow-sm">
                        <div class="menu-title"><i class="bi bi-journal-bookmark"></i> Materi</div>

                        <a class="menu-item active" aria-current="page" href="PengetahuanDasarRambut.html"><i
                                class="bi bi-lightbulb"></i> Pengetahuan Dasar Rambut</a>

                        <!-- TOMBOL INDUK TERBUKA TEORI-->
                        <!-- TOMBOL INDUK TERBUKA TEORI-->
                        <button class=" d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-teori" aria-expanded="true"
                            aria-controls="submenu-teori" href="./peralatan.html">

                            <span class="me-2"><i class="bi bi-droplet-half"></i></span>
                            <span class="flex-grow-1 text-start" aria-current="page">A. Pewarnaan
                                Rambut</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>
                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-teori"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>

                                    <a class="menu-item py-1 " aria-current="page" href="Sejarah.html"><span>1.
                                            Sejarah</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengertianPewarnaan.html"><span>2. Pengertian
                                            Pewarnaan </span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="TujuanPewarnaan.html">3. Tujuan Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="TipePewarnaan.html">4. Tipe Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="Desainteknik.html">5. Istilah Desain dan Teknik
                                        Pewarnaan</a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="AyoLakukanA.html">6. Ayo Lakukan Pewarnaan</a>
                                </li>
                            </ul>
                        </div>

                        <!-- TOMBOL INDUK TERBUKA PERALATAN-->
                        <button class="menu-item d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-peralatan" aria-expanded="true"
                            aria-controls="submenu-peralatan">
                            <span class="me-2"><i class="bi bi-scissors"></i></span>
                            <span class="flex-grow-1 text-start">B. Teori Warna</span>
                            <i class="bi bi-chevron-down small"></i>
                            <a>
                        </button>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-peralatan"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1 " href="PengetahuanWarna.html"><span>1. Pengetahuan
                                            Warna</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="KegunaanSegitiga.html"> <span>2. Kegunaan
                                            Segitiga</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="KoreksiWarna.html"> <span>3. Koreksi Warna</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengaruhModifikasi.html"> <span>4. Pengaruh
                                            Modifikasi</span>
                                    </a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="PengaruhModifikasi.html"> <span>5. Warna Dingin dan
                                            Hanga</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="AyoLakukanB.html">6. Ayo Lakukan Pewarnaan</a>
                                </li>
                            </ul>
                        </div>

                        <!-- TOMBOL INDUK TERBUKA PERALATAN-->
                        <button class="menu-item d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-peralatan" aria-expanded="true"
                            aria-controls="submenu-peralatan">
                            <span class="me-2"><i class="bi bi-scissors"></i></span>
                            <span class="flex-grow-1 text-start">C. Pewarnaan Korektif</span>
                            <i class="bi bi-chevron-down small"></i>
                            <a>
                        </button>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-peralatan"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1 " href="PewarnaanKorektif.html"><span>1. Pewarnaan
                                            Korektif</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="KesalahanDalamPewarnaan.html"> <span>2. Kesalahan
                                            Dalam Pewarnaan</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="AyoLakukanC.html">3. Ayo Lakukan Pewarnaan</a>
                                </li>
                            </ul>
                        </div>

                    </nav>
                </aside>

                <!-- KANAN (scroll) -->
                <section class="col-12 col-md-9 col-xl-10 content-col content-with-fixed order-2 order-md-0">
                    <div class="content-scroll">
                        <div class="card shadow-sm materi-card">
                            <div class="card-header d-flex align-items-center gap-2">
                                <i class="bi bi-lightbulb" style="color:var(--brand); font-size:1.25rem;"></i>
                                <div class="d-flex flex-wrap align-items-baseline gap-2">
                                    <h3 class="h5 mb-0 fw-bold">Pengetahuan Dasar Pewarnaan Rambut</h3>
                                </div>
                            </div>

                            <div class="card-body scrollable flex-grow-1 min-vh-0" id="apersepsi-hair-coloring">
                                <figure style="text-align: center; margin: 0px 0;">
                                    <img src="../img/lorealprofesi.png" alt="Contoh hasil pewarnaan rambut"
                                        style="max-width: 100%; height: 1500px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                    <figcaption style="color: #6c757d; font-size: 0.9em; margin-top: 8px;">
                                        Sumber: lorealprofessionnel/Loreal
                                    </figcaption>
                                </figure>
                                <!-- Pertanyaan Pemantik -->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Pertanyaan Pemantik</h4>
                                            <hr class="my-4">

                                            <div class="vstack gap-2">

                                                <h6>1. Kapan pewarnaan rambut mulai
                                                    dikenal/ditemukan?</h6>
                                                <div class="input-group">

                                                    <span class="input-group-text">1</span>
                                                    <textarea id="q1" class="form-control" rows="2"
                                                        placeholder="Isi disini"></textarea>
                                                </div>
                                                <h6>2. Dari mana praktik mengubah warna rambut berasal?</h6>
                                                <div class="input-group">
                                                    <span class="input-group-text">2</span>
                                                    <textarea id="q2" class="form-control" rows="2"
                                                        placeholder="Isi disini"></textarea>
                                                </div>
                                                <h6>3. Bagaimana proses panjang pewarnaan tersebut dimulai?</h6>
                                                <div class="input-group">
                                                    <span class="input-group-text">3</span>
                                                    <textarea id="q3" class="form-control" rows="2"
                                                        placeholder="Isi disini"></textarea>
                                                </div>
                                                <div class="d-flex gap-2">
                                                    <button class="btn btn-brand" id="savePemantik"><i
                                                            class="bi bi-save2"></i>
                                                        Simpan</button>
                                                    <button class="btn btn-outline-secondary"
                                                        id="clearPemantik">Reset</button>
                                                </div>
                                                <div id="pemantikFeedback"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-4">
                                </section>

                                <!-- Tujuan-->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Tujuan Pembelajaran</h4>
                                            <hr class="my-4">

                                            <div class="vstack gap-2">
                                                <div class="input-group">
                                                    <span class="input-group-text">1</span>
                                                    <span id="q1" class="form-control">Memahami sejarah dan konsep
                                                        pewarnaan rambut.</span>
                                                </div>
                                                <div class="input-group">
                                                    <span class="input-group-text">2</span>
                                                    <span id="q1" class="form-control">
                                                        Memahami teori warna dan penerapannya.</span>
                                                </div>
                                                <div class="input-group">
                                                    <span class="input-group-text">3</span>
                                                    <span id="q1" class="form-control">Memahami prinsip pewarnaan
                                                        korektif.</span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-4">
                                </section>

                                <!-- Peta Konsep Builder -->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Peta Konsep </h4>
                                            <hr class="my-4">

                                            <div class="card">
                                                <div class="card-body">
                                                    <!-- SVG Peta Konsep (arrows tanpa jeda) -->
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"
                                                        role="img" aria-label="Peta konsep pewarnaan rambut">
                                                        <defs>
                                                            <!-- Arrowhead menyentuh titik akhir -->
                                                            <marker id="arrowhead-touch" markerWidth="18"
                                                                markerHeight="14" refX="16" refY="7" orient="auto"
                                                                markerUnits="userSpaceOnUse">
                                                                <polygon points="0,0 16,7 0,14" fill="var(--brand)" />
                                                            </marker>
                                                        </defs>

                                                        <!-- Left main box -->
                                                        <rect class="box" x="80" y="200" width="380" height="180" />
                                                        <text class="text" x="270" y="270"
                                                            text-anchor="middle">Pengetahuan Dasar</text>
                                                        <text class="text" x="270" y="310"
                                                            text-anchor="middle">Pewarnaan</text>

                                                        <!-- Right boxes -->
                                                        <rect class="box" x="740" y="120" width="360" height="120" />
                                                        <text class="text" x="920" y="190"
                                                            text-anchor="middle">Pewarnaan Rambut</text>

                                                        <rect class="box" x="740" y="250" width="360" height="120" />
                                                        <text class="text" x="920" y="320" text-anchor="middle">Teori
                                                            Warna</text>

                                                        <rect class="box" x="740" y="380" width="360" height="120" />
                                                        <text class="text" x="920" y="450"
                                                            text-anchor="middle">Pewarnaan Korektif</text>

                                                        <!-- Vertical spine (no gaps) -->
                                                        <line class="line" x1="620" y1="140" x2="620" y2="500" />

                                                        <!-- Arrow dari kiri ke spine -->
                                                        <line class="line" x1="460" y1="290" x2="620" y2="290"
                                                            marker-end="url(#arrowhead-touch)" />

                                                        <!-- Cabang ke kanan (ujung menyentuh kotak) -->
                                                        <line class="line" x1="620" y1="180" x2="740" y2="180"
                                                            marker-end="url(#arrowhead-touch)" />
                                                        <line class="line" x1="620" y1="310" x2="740" y2="310"
                                                            marker-end="url(#arrowhead-touch)" />
                                                        <line class="line" x1="620" y1="440" x2="740" y2="440"
                                                            marker-end="url(#arrowhead-touch)" />
                                                    </svg>
                                                </div>
                                            </div>
                                            <p class="small text-muted">Seret tiga subkonsep ke kolom "Turunan" dari
                                                konsep
                                                utama.</p>
                                            <div class="row g-3">
                                                <div class="col-lg-5">
                                                    <div class="p-3 rounded border" style="border-color:var(--line)">
                                                        <div class="mb-2 fw-semibold">Konsep Utama</div>
                                                        <div class="border rounded p-3 text-center">Pengetahuan Dasar
                                                            Pewarnaan
                                                        </div>
                                                        <div class="mt-3 small text-muted">Turunan yang benar: Pewarnaan
                                                            Rambut
                                                            • Teori Warna • Pewarnaan Korektif</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="row g-3">
                                                        <div class="col-md-6">
                                                            <div class="drop-wrap">
                                                                <div>
                                                                    <div class="small text-muted mb-1">Turunan</div>
                                                                    <div id="drop-branch" class="drop-col empty"
                                                                        data-accept="A,B,C"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="drag-pool" id="pool">
                                                                <div class="drag-chip" draggable="true" data-key="A">
                                                                    Pewarnaan
                                                                    Rambut</div>
                                                                <div class="drag-chip" draggable="true" data-key="B">
                                                                    Teori Warna
                                                                </div>
                                                                <div class="drag-chip" draggable="true" data-key="C">
                                                                    Pewarnaan
                                                                    Korektif</div>
                                                                <div class="drag-chip" draggable="true" data-key="X">
                                                                    Biokimia
                                                                </div>
                                                                <div class="drag-chip" draggable="true" data-key="Y">
                                                                    Perawatan
                                                                    Wajah</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex gap-2 mt-3">
                                                        <button class="btn btn-brand" id="cekPeta">Periksa</button>
                                                        <button class="btn btn-outline-secondary"
                                                            id="resetPeta">Reset</button>
                                                    </div>
                                                    <div id="petaFeedback" class="mt-2"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-4">

                                </section>

                                <!-- Kata Kunci -->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Kata Kunci</h4>
                                            <div class="row g-3">
                                                <div class="col-sm-6 col-lg-4">
                                                    <div class="flashcard" data-term="Dasar pewarnaan"
                                                        data-def="Prinsip umum proses mengubah warna rambut secara aman & terkontrol.">
                                                        <div class="fw-semibold">Dasar pewarnaan</div>
                                                        <div class="text-muted small mt-1">Ketuk untuk lihat penjelasan
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-lg-4">
                                                    <div class="flashcard" data-term="Biokimia"
                                                        data-def="Ilmu reaksi kimia pada rambut/kulit kepala saat pewarnaan.">
                                                        <div class="fw-semibold">Biokimia</div>
                                                        <div class="text-muted small mt-1">Ketuk untuk lihat penjelasan
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-lg-4">
                                                    <div class="flashcard" data-term="Teori warna"
                                                        data-def="Relasi warna (hangat–dingin, komplementer) untuk menetralkan/menonjolkan nada.">
                                                        <div class="fw-semibold">Teori warna</div>
                                                        <div class="text-muted small mt-1">Ketuk untuk lihat penjelasan
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-lg-4">
                                                    <div class="flashcard" data-term="Rambut"
                                                        data-def="Serat keratin dari folikel; struktur kutikula–korteks–medula memengaruhi hasil warna.">
                                                        <div class="fw-semibold">Rambut</div>
                                                        <div class="text-muted small mt-1">Ketuk untuk lihat penjelasan
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-lg-4">
                                                    <div class="flashcard" data-term="Pewarnaan korektif"
                                                        data-def="Teknik memperbaiki warna yang salah/berubah (misal terlalu hangat atau tidak rata).">
                                                        <div class="fw-semibold">Pewarnaan korektif</div>
                                                        <div class="text-muted small mt-1">Ketuk untuk lihat penjelasan
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <!-- Kata Kunci -->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Apersepsi</h4>
                                            <p>Pernahkah melihat warna rambut yang sangat bagus di sekitar kalian? Tulis
                                                contoh
                                                dan alasan kenapa menarik.</p>
                                            <textarea id="aperTxt" class="form-control" rows="3"
                                                placeholder="Tulis pengamatanmu..."></textarea>
                                            <div class="likert mt-2">
                                                <label class="form-label small text-muted">Seberapa percaya diri kamu
                                                    memahami
                                                    konsep dasar (0 = belum paham, 5 = sangat paham)</label>
                                                <input id="aperScale" type="range" min="0" max="5" step="1" value="0" />
                                            </div>
                                            <div class="d-flex gap-2 mt-2">
                                                <button class="btn btn-brand" id="saveAper">Simpan</button>
                                                <button class="btn btn-outline-secondary" id="clearAper">Hapus</button>
                                            </div>
                                            <div id="aperFeedback" class="mt-2"></div>
                                        </div>
                                    </div>
                                </section>

                                <!-- 5. Jawab Yuk! (Short Answers) -->
                                <section class="pengertian mb-4">
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h4 class="h6 text-uppercase text-muted mb-2">Jawab Yuk!</h4>
                                            <div class="vstack gap-2">
                                                <label class="form-label fw-semibold" for="jy1">1) Kapan jenis pewarna
                                                    rambut tradisional mulai digunakan? Contoh bahan dari
                                                    tumbuhan.</label>
                                                <textarea id="jy1" class="form-control" rows="2"
                                                    placeholder="Jawab di sini"></textarea>

                                                <label class="form-label fw-semibold" for="jy2">2) Ceritakan pengalaman
                                                    kalian ketika melihat seseorang sedang melakukan pewarnaan di
                                                    salon/rumah.</label>
                                                <textarea id="jy2" class="form-control" rows="2"
                                                    placeholder="Jawab di sini"></textarea>
                                                <label class="form-label fw-semibold" for="jy2">3) Menurut kalian, warna
                                                    rambut apa yang sedang digemari oleh anak muda? Beri alasan.</label>
                                                <textarea id="jy3" class="form-control" rows="2"
                                                    placeholder="Jawab disini"></textarea>
                                                <label class="form-label fw-semibold" for="jy2">4) Pendapatmu tentang
                                                    kosmetik pewarna rambut yang dijual bebas untuk digunakan di
                                                    rumah.</label>
                                                <textarea id="jy4" class="form-control" rows="2"
                                                    placeholder="Jawab disini"></textarea>
                                                <label class="form-label fw-semibold" for="jy2">5) Seberapa perlu dan
                                                    penting seseorang mewarnai rambut mereka?</label>
                                                <textarea id="jy5" class="form-control" rows="2"
                                                    placeholder="Jawab disini"></textarea>

                                                <div class="d-flex flex-wrap gap-2 mt-2">
                                                    <button class="btn btn-brand" id="saveJawab">Simpan Semua</button>
                                                    <button class="btn btn-outline-secondary"
                                                        id="clearJawab">Kosongkan</button>
                                                </div>
                                                <div id="jawabFeedback" role="status" aria-live="polite"></div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                            </div><!-- /card-body.scrollable -->
                        </div><!-- /card.materi-card -->
                    </div><!-- /content-scroll -->
                </section>
            </div>

        </div>

    </main>



    <!-- CTA tetap di atas footer -->
    <div class="sticky-cta">
        <div class="container">
            <div class="col-12 col-md-10 content-col content-with-fixed mx-auto">
                <div class="d-flex justify-content-center align-items-center flex-wrap gap-2 w-100">
                    <a class="btn btn-outline-secondary" href="#"><i class="bi bi-arrow-left"></i>
                        Sebelumnya</a>
                    <a class="btn btn-brand" href="Sejarah.html">Berikutnya <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
    <!-- FOOTER -->
    <footer class="footer fixed-bottom py-2">
        <div class="container d-flex justify-content-between align-items-center small">
            <span>SMKS ISFI BANJARMASIN • Hair Coloring</span>
            <span class="text-muted">© 2025 • Single Application</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // ===== Helpers (storage) =====
        const SKEY = 'analisis-rambut-v1';
        const getData = () => JSON.parse(localStorage.getItem(SKEY) || '{}');
        const setData = (obj) => localStorage.setItem(SKEY, JSON.stringify(obj));

        // ====== Validation helpers ======
        const byId = (id) => document.getElementById(id);
        const showMsg = (el, html) => el.innerHTML = html;
        const warn = (msg) => `<div class=\"alert alert-warning mb-0\">${msg}</div>`;
        const ok = (msg) => `<div class=\"alert alert-success mb-0\">${msg}</div>`;

        function isEmpty(v) { return !v || v.trim().length === 0; }
        function markInvalid(el) { el.classList.add('is-invalid'); el.addEventListener('input', () => el.classList.remove('is-invalid'), { once: true }); }
        function requireFilled(fields) {
            // fields: [{el, min}]
            let valid = true;
            for (const f of fields) {
                const val = f.el.value || '';
                const min = f.min || 1;
                if (val.trim().length < min) { valid = false; markInvalid(f.el); }
            }
            return valid;
        }

        // ===== Pemantik =====
        const q1 = byId('q1'); const q2 = byId('q2'); const q3 = byId('q3');
        const pemantikFeedback = byId('pemantikFeedback');
        byId('savePemantik').addEventListener('click', () => {
            const okFilled = requireFilled([{ el: q1 }, { el: q2 }, { el: q3, min: 5 }]);
            if (!okFilled) { showMsg(pemantikFeedback, warn('Lengkapi semua kolom pemantik sebelum menyimpan.')); return; }
            const data = getData();
            data.pemantik = { q1: q1.value.trim(), q2: q2.value.trim(), q3: q3.value.trim(), at: Date.now() };
            setData(data);
            showMsg(pemantikFeedback, ok('Tersimpan. ✅'));
        });
        byId('clearPemantik').addEventListener('click', () => {
            const data = getData(); delete data.pemantik; setData(data);
            q1.value = q2.value = ''; q3.value = ''; showMsg(pemantikFeedback, '');
        });

        // ===== Drag & Drop Peta =====
        const drop = byId('drop-branch');
        const pool = byId('pool');
        let dragRef = null;
        document.addEventListener('dragstart', e => { if (e.target.classList.contains('drag-chip')) { dragRef = e.target; e.dataTransfer.setData('text/plain', e.target.dataset.key); } });
        ['dragenter', 'dragover'].forEach(evt => document.addEventListener(evt, e => { if (e.target.classList.contains('drop-col')) { e.preventDefault(); e.target.classList.add('drag-over'); } }));
        ['dragleave', 'drop'].forEach(evt => document.addEventListener(evt, e => { if (e.target.classList.contains('drop-col')) e.target.classList.remove('drag-over'); }));
        document.addEventListener('drop', e => { if (!e.target.classList.contains('drop-col')) return; e.preventDefault(); if (!dragRef) return; e.target.appendChild(dragRef); setEmptyState(e.target); petaFeedback.innerHTML = ''; });
        const setEmptyState = (zone) => zone.classList.toggle('empty', !zone.querySelector('.drag-chip'));
        const petaFeedback = byId('petaFeedback');

        byId('cekPeta').addEventListener('click', () => {
            const chips = Array.from(drop.querySelectorAll('.drag-chip')).map(c => c.dataset.key);
            const expect = ['A', 'B', 'C'];
            const correctLength = chips.length === 3;
            if (!correctLength) { drop.classList.remove('correct'); drop.classList.add('wrong'); showMsg(petaFeedback, warn('Masukkan tepat tiga turunan ke kolom.')); return; }
            const correct = chips.every(k => expect.includes(k));
            drop.classList.remove('correct', 'wrong'); drop.classList.add(correct ? 'correct' : 'wrong');
            showMsg(petaFeedback, correct ? ok('Benar! Struktur peta sesuai. 🎉') : warn('Masih keliru. Pastikan hanya turunan yang benar.'));
            const data = getData(); data.peta = chips; setData(data);
        });
        byId('resetPeta').addEventListener('click', () => { drop.querySelectorAll('.drag-chip').forEach(ch => pool.appendChild(ch)); setEmptyState(drop); showMsg(petaFeedback, ''); const data = getData(); delete data.peta; setData(data); });

        // ===== Flashcards =====
        document.querySelectorAll('.flashcard').forEach(card => {
            card.addEventListener('click', () => {
                const term = card.dataset.term; const def = card.dataset.def;
                const showing = card.querySelector('p');
                if (showing) { showing.remove(); return; }
                const p = document.createElement('p'); p.className = 'mt-2 mb-0 text-secondary'; p.textContent = def; card.appendChild(p);
                const data = getData(); data.flash = { ...(data.flash || {}), [term]: true }; setData(data);
            });
        });

        // ===== Apersepsi (Likert) =====
        const aperTxt = byId('aperTxt'); const aperScale = byId('aperScale'); const aperFeedback = byId('aperFeedback');
        byId('saveAper').addEventListener('click', () => {
            if (isEmpty(aperTxt.value)) { markInvalid(aperTxt); showMsg(aperFeedback, warn('Tuliskan refleksi singkatmu terlebih dahulu.')); return; }
            const data = getData(); data.aper = { txt: aperTxt.value.trim(), scale: aperScale.value, at: Date.now() }; setData(data);
            showMsg(aperFeedback, ok('Apersepsi tersimpan. 🙌'));
        });
        byId('clearAper').addEventListener('click', () => { const data = getData(); delete data.aper; setData(data); aperTxt.value = ''; aperScale.value = 0; showMsg(aperFeedback, ''); });

        // ===== Jawab Yuk =====
        const jy1 = byId('jy1'), jy2 = byId('jy2'), jy3 = byId('jy3'), jy4 = byId('jy4'), jy5 = byId('jy5');
        const jawabFeedback = byId('jawabFeedback');
        byId('saveJawab').addEventListener('click', () => {
            const valid = requireFilled([{ el: jy1, min: 5 }, { el: jy2, min: 5 }, { el: jy3, min: 3 }, { el: jy4, min: 5 }, { el: jy5, min: 3 }]);
            if (!valid) { showMsg(jawabFeedback, warn('Isi semua jawaban terlebih dahulu (minimal beberapa kata).')); return; }
            const data = getData(); data.jawab = { jy1: jy1.value.trim(), jy2: jy2.value.trim(), jy3: jy3.value.trim(), jy4: jy4.value.trim(), jy5: jy5.value.trim(), at: Date.now() }; setData(data);
            showMsg(jawabFeedback, ok('Semua jawaban tersimpan. ✅'));
        });
        byId('clearJawab').addEventListener('click', () => { const data = getData(); delete data.jawab; setData(data);[jy1, jy2, jy3, jy4, jy5].forEach(t => { t.value = ''; t.classList.remove('is-invalid'); }); showMsg(jawabFeedback, ''); });

        // ===== Restore on load =====
        window.addEventListener('DOMContentLoaded', () => {
            const data = getData();
            if (data.pemantik) { q1.value = data.pemantik.q1 || ''; q2.value = data.pemantik.q2 || ''; q3.value = data.pemantik.q3 || ''; }
            if (data.peta) { data.peta.forEach(k => { const chip = [...pool.children].find(c => c.dataset.key === k); if (chip) drop.appendChild(chip); }); setEmptyState(drop); }
            if (data.aper) { aperTxt.value = data.aper.txt || ''; aperScale.value = data.aper.scale || 0; }
            if (data.jawab) { jy1.value = data.jawab.jy1 || ''; jy2.value = data.jawab.jy2 || ''; jy3.value = data.jawab.jy3 || ''; jy4.value = data.jawab.jy4 || ''; jy5.value = data.jawab.jy5 || ''; }
        });
    </script>
</body>

</html>